# Discovery Intelligence

Core discovery patterns and protocols for the Guild system's discovery-first architecture.

---

## Discovery Philosophy

**Discovery Over Knowledge**: Guild ships with discovery capabilities, not technology knowledge. The system discovers and learns from any project through intelligent research and pattern recognition.

**Universal Coverage**: Works with any technology, from C source files to Kubernetes manifests, without prior knowledge of specific technologies.

---

## Discovery Protocol

### Multi-Layer Discovery Approach

**Layer 1: Surface Analysis**
- **File Pattern Recognition**: Identify file types, naming conventions, directory structure
- **Configuration Analysis**: Parse config files, environment variables, build scripts
- **Dependency Mapping**: Extract package dependencies, import statements, linkage
- **Technology Indicators**: Recognize technology signatures through usage patterns

**Layer 2: Deep Investigation**
- **Behavioral Analysis**: Understand how technologies work through actual usage
- **Pattern Recognition**: Identify recurring patterns across files and components
- **Integration Mapping**: Map how different systems connect and communicate
- **Contextual Understanding**: Build project-specific intelligence from discovered patterns

**Layer 3: Synthesis and Learning**
- **Knowledge Extraction**: Derive best practices from project patterns
- **Intelligence Generation**: Create reusable project intelligence
- **Adaptive Understanding**: Build expertise that grows with each discovery
- **Pattern Abstraction**: Generalize project-specific patterns to reusable intelligence

---

## Discovery Patterns

### 1. Universal Technology Discovery

**Objective**: Discover any technology without prior knowledge

**Discovery Methodology**:
```javascript
Universal Discovery Pattern:
1. **File System Analysis**
   - Scan all files and directories
   - Identify file types and naming patterns
   - Map directory structure and organization
   - Extract configuration files and build scripts

2. **Content Analysis**
   - Analyze file contents for patterns
   - Identify import statements and dependencies
   - Recognize syntax and language patterns
   - Extract configuration parameters and settings

3. **Usage Pattern Recognition**
   - Analyze how files interact and reference each other
   - Identify common patterns and conventions
   - Map data flow and execution paths
   - Recognize integration points and dependencies

4. **Technology Inference**
   - Infer technologies from usage patterns
   - Identify frameworks and libraries through patterns
   - Recognize architectural approaches
   - Map technology stack and relationships
```

**Key Indicators**:
- File extensions and naming patterns
- Import/require statements and dependencies
- Configuration syntax and structure
- Build system and deployment patterns
- Runtime behavior and execution patterns

### 2. Pattern Analysis Discovery

**Objective**: Identify architectural patterns and coding conventions

**Pattern Recognition Methodology**:
```javascript
Pattern Analysis Protocol:
1. **Structural Patterns**
   - Identify file organization and module structure
   - Recognize design patterns (MVC, microservices, etc.)
   - Map component relationships and dependencies
   - Analyze architectural decisions and trade-offs

2. **Coding Conventions**
   - Extract naming conventions (files, variables, functions)
   - Identify code organization patterns
   - Recognize documentation styles and approaches
   - Map error handling and validation patterns

3. **Integration Patterns**
   - Analyze how components communicate
   - Identify API patterns and conventions
   - Map data flow and state management
   - Recognize service discovery and communication

4. **Quality Patterns**
   - Assess testing approaches and coverage
   - Identify code quality tools and patterns
   - Recognize monitoring and logging approaches
   - Map security patterns and practices
```

**Pattern Categories**:
- **Architectural Patterns**: MVC, microservices, event-driven, DDD
- **Coding Patterns**: Conventions, organization, documentation
- **Integration Patterns**: APIs, services, data flow
- **Quality Patterns**: Testing, monitoring, security

### 3. Integration Mapping Discovery

**Objective**: Map how different components and systems connect

**Integration Analysis Protocol**:
```javascript
Integration Mapping Process:
1. **Component Discovery**
   - Identify all system components and services
   - Map component boundaries and responsibilities
   - Recognize component types and purposes
   - Analyze component relationships

2. **Connection Analysis**
   - Map direct connections and dependencies
   - Identify communication protocols and formats
   - Analyze data flow between components
   - Recognize service discovery patterns

3. **Integration Patterns**
   - Identify API patterns (REST, GraphQL, gRPC)
   - Recognize message queue and event systems
   - Map database connections and data access
   - Analyze infrastructure and deployment integrations

4. **Dependency Mapping**
   - Map runtime dependencies
   - Identify build-time dependencies
   - Recognize external service dependencies
   - Analyze deployment and infrastructure dependencies
```

**Integration Types**:
- **Service Integration**: APIs, messaging, events
- **Data Integration**: Databases, caches, storage
- **Infrastructure Integration**: Deployment, monitoring, CI/CD
- **External Integration**: Third-party services, cloud platforms

### 4. Operational Intelligence Discovery

**Objective**: Discover operational patterns and deployment approaches

**Operational Analysis Protocol**:
```javascript
Operational Intelligence Process:
1. **Deployment Patterns**
   - Identify deployment scripts and configurations
   - Recognize containerization and orchestration
   - Map CI/CD pipelines and automation
   - Analyze infrastructure as code patterns

2. **Monitoring and Observability**
   - Identify logging patterns and frameworks
   - Recognize monitoring and alerting systems
   - Map performance tracking and metrics
   - Analyze debugging and troubleshooting approaches

3. **Maintenance Patterns**
   - Identify backup and recovery procedures
   - Recognize update and deployment strategies
   - Map scaling and performance optimization
   - Analyze security and compliance patterns

4. **Operational Workflows**
   - Identify development and release processes
   - Recognize team collaboration patterns
   - Map incident response procedures
   - Analyze operational best practices
```

**Operational Areas**:
- **Deployment**: Scripts, containers, orchestration
- **Monitoring**: Logging, metrics, alerting
- **Maintenance**: Updates, backups, scaling
- **Workflows**: Development, release, incident response

---

## Agent Coordination Patterns

### Research Agent Orchestration

**Parallel Discovery Strategy**:
```javascript
Discovery Coordination:
1. **Initial Surface Scan** (Fast)
   - All agents perform parallel surface analysis
   - Quick identification of major technologies and patterns
   - Initial mapping of project structure
   - Priority areas identified for deep investigation

2. **Deep Investigation** (Parallel)
   - Specialized agents investigate discovered areas
   - Pattern analysis agents analyze architectural patterns
   - Integration mapping agents trace connections
   - Operational intelligence agents examine deployment

3. **Synthesis and Analysis**
   - Combine findings from all agents
   - Identify gaps and areas needing further investigation
   - Perform focused research on unknown technologies
   - Generate comprehensive project intelligence

4. **Knowledge Generation**
   - Extract reusable patterns and best practices
   - Create project-specific intelligence
   - Generate adaptive agents with discovered expertise
   - Store findings for future reference and learning
```

**Agent Specialization**:
- **Discovery Agents**: Universal technology investigation
- **Pattern Agents**: Architectural and coding pattern analysis
- **Integration Agents**: Component and system connection mapping
- **Operational Agents**: Deployment and maintenance pattern discovery

### Adaptive Investigation

**Learning-Based Discovery**:
```javascript
Adaptive Discovery Protocol:
1. **Pattern Recognition Learning**
   - Learn from discovered patterns in each project
   - Build library of common patterns across projects
   - Improve pattern recognition accuracy over time
   - Adapt to new technologies and approaches

2. **Technology Adaptation**
   - Learn about new technologies through discovery
   - Build understanding of technology integration patterns
   - Adapt investigation strategies based on discoveries
   - Expand knowledge base with each project analyzed

3. **Investigation Optimization**
   - Learn which investigation approaches are most effective
   - Optimize agent coordination and parallel execution
   - Improve accuracy and efficiency of discovery
   - Adapt to project complexity and technology stack
```

---

## Quality Assurance

### Discovery Validation

**Accuracy Verification**:
- Cross-verify discoveries across multiple agents
- Validate inferred technologies against actual usage
- Test identified patterns against project behavior
- Confirm integration mappings through dependency analysis

**Completeness Assessment**:
- Ensure all major components are discovered
- Verify comprehensive mapping of integrations
- Confirm full coverage of operational patterns
- Identify gaps requiring additional investigation

**Consistency Validation**:
- Ensure consistency across different discovery approaches
- Validate pattern recognition against actual implementation
- Confirm integration mappings align with dependencies
- Verify operational intelligence matches deployment reality

---

## Success Metrics

### Discovery Effectiveness

**Coverage Metrics**:
- **Technology Coverage**: Percentage of technologies discovered
- **Pattern Recognition**: Accuracy of identified patterns
- **Integration Mapping**: Completeness of connection analysis
- **Operational Intelligence**: Coverage of deployment patterns

**Accuracy Metrics**:
- **Technology Accuracy**: Correct technology identification
- **Pattern Accuracy**: Correct pattern recognition
- **Integration Accuracy**: Correct connection mapping
- **Operational Accuracy**: Correct operational analysis

**Efficiency Metrics**:
- **Discovery Speed**: Time to complete full analysis
- **Investigation Efficiency**: Discovery accuracy per investigation time
- **Agent Coordination**: Efficiency of parallel discovery
- **Learning Improvement**: Accuracy improvement over time

### Knowledge Generation

**Intelligence Quality**:
- **Pattern Extraction**: Quality of extracted patterns
- **Best Practice Derivation**: Accuracy of derived best practices
- **Adaptive Expertise**: Quality of generated project intelligence
- **Knowledge Reusability**: Reusability of discovered intelligence

---

## Implementation Notes

The discovery intelligence provides the foundation for Guild's discovery-first approach. By focusing on universal discovery capabilities rather than specific technology knowledge, the system can work with any project regardless of technology stack while maintaining maximum simplicity and effectiveness.

**Key Principles**:
- Universal discovery through intelligent investigation
- Pattern-based learning and adaptation
- Agent coordination for comprehensive analysis
- Quality assurance for accurate discovery results