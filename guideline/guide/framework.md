# Guild System Framework

<core_philosophy>
**Structure enables intelligence. Intelligence optimizes structure.**

<principles>
- **Systematic Foundation**: Provides reliability and comprehensive coverage
- **Intelligent Optimization**: Enables excellence and creative solutions through parallel tool coordination
- **Unified Integration**: Combines both for superior outcomes with simultaneous operation execution
- **Continuous Evolution**: Improves systems based on insights and parallelization performance metrics
- **Tool Coordination Excellence**: Maximizes efficiency through Anthropic's parallel execution standards
</principles>
</core_philosophy>

<compliance_architecture>

<foundational_requirements>
**Intelligence Abstraction Compliance:**
- **Absolute Code Prohibition**: Never include code samples, syntax examples, or executable snippets
- **Complete Technology Independence**: Never reference specific languages, frameworks, libraries, or tools
- **Mandatory Template Usage**: All guidance must use abstract `[placeholder]` patterns exclusively  
- **Native Intelligence Trust**: Complete reliance on autonomous intelligence for contextual implementations
- **Creative Solution Preservation**: Enable intelligent adaptation without constraining implementation choices

**Analysis-First Intelligence:**
- **Always Analyze Instead of Declaring**: Use intelligence to examine actual conditions rather than making predetermined assumptions
- **Context-Driven Decisions**: Base all choices on real-time analysis of project characteristics and requirements
- **Dynamic Discovery**: Discover optimal approaches through analysis rather than following predetermined patterns
- **Evidence-Based Execution**: Ground all decisions in analyzed evidence rather than assumed or declared requirements
</foundational_requirements>

<systematic_excellence>
Guild system operates with consistent excellence across six critical dimensions with template-first intelligence patterns and mandatory abstraction standards (Reference: @config:TB001, @config:AM001, @config:PE001, @config:RP001, @config:AR001, @config:OB001).
</systematic_excellence>
</compliance_architecture>

<dimensional_framework>
<governance_structure>
**Six-Dimensional Compliance Architecture**: Systematic intelligence coordination across mandatory compliance dimensions (Reference: @config:TB001, @config:AM001, @config:PE001, @config:RP001, @config:AR001, @config:OB001).
</governance_structure>

<core_dimensions>
<dimension id="TB001" name="tool_parallelization_mandate">
**Tool Parallelization**: Execute `[tool-operations]` simultaneously unless proven `[dependencies]` require serialization through systematic `[challenge-protocols]`

**Anthropic Standards Integration**: All specialists must implement official parallel tool execution with the mandate: "For maximum efficiency, whenever you perform multiple independent operations, invoke all relevant tools simultaneously rather than sequentially. Prioritize calling tools in parallel whenever possible. Err on the side of maximizing parallel tool calls rather than running too many tools sequentially."

**Implementation Requirements**:
- Batch independent tool operations in single responses
- Default to simultaneous execution for file operations, analysis tasks, and discovery processes
- Question sequential assumptions through systematic dependency verification
- Measure and optimize parallelization effectiveness continuously
</dimension>

<dimension id="AM001" name="agent_mandatory_architecture">  
**Agent-Mandatory Architecture**: Route all `[task-types]` through `[specialist-assignment]` evaluation with zero direct execution

**Assignment Protocol Standards**:
- **Task Analysis**: Evaluate `[task-complexity]` and `[domain-requirements]` for optimal specialist selection
- **Capability Assessment**: Match `[task-characteristics]` with `[specialist-expertise]` through systematic evaluation
- **Direct Execution Prevention**: Block inappropriate direct execution through `[automated-guard-mechanisms]`
- **Assignment Verification**: Confirm specialist selection through `[compatibility-scoring]` and `[effectiveness-metrics]`

**Implementation Requirements**:
- Mandatory specialist assignment for all `[work-categories]` without exception
- Systematic specialist development through `[capability-assessment-frameworks]`
- Zero direct execution enforcement through `[prevention-protocols]` and `[monitoring-systems]`
- Assignment protocol compliance tracking through `[verification-streams]` and `[quality-gates]`
</dimension>

<dimension id="PE001" name="parallel_first_execution">
**Parallel-First Execution**: Break `[complex-tasks]` into `[parallel-components]` with default simultaneous execution patterns

**Dependency Challenge Protocols**:
- **Atomic Unit Analysis**: Decompose `[complex-tasks]` into smallest parallelizable `[work-units]` through systematic breakdown
- **Sequential Assumption Challenge**: Question all assumed dependencies through `[dependency-verification-frameworks]` 
- **True Dependency Identification**: Distinguish actual dependencies from assumed sequential patterns using `[analysis-protocols]`
- **Parallel Optimization**: Default to simultaneous execution unless `[proven-dependencies]` require sequential processing

**Implementation Requirements**:
- Systematic task decomposition into `[atomic-parallel-components]` before execution begins
- Mandatory dependency challenge through `[assumption-verification]` protocols for all sequential requirements
- Parallel execution planning with explicit `[integration-points]` and `[synchronization-patterns]`
- Performance optimization through `[parallel-coordination]` and `[efficiency-tracking]` mechanisms
</dimension>

<dimension id="RP001" name="research_protocol_integration">
**Research Protocol Integration**: Execute comprehensive `[discovery]` before `[implementation]` with parallel exploration protocols
</dimension>

<dimension id="AR001" name="agent_recursion_prevention">
**Agent Recursion Prevention**: Maintain `[flat-agent-hierarchy]` through `[prevention-mechanisms]` with single-level delegation
</dimension>

<dimension id="OB001" name="operation_batching_optimization">
**Operation Batching**: Group `[operation-types]` through `[classification-intelligence]` with context-switching minimization
</dimension>
</core_dimensions>

<dimensional_integration>
**Cross-Dimensional Coordination**: All dimensions operate simultaneously through `[multi-dimensional-templates]` with systematic interdependencies

**Cross-Dimensional Workflow Templates**:
- **Discovery-Assignment-Execution**: RP001 → AM001 → PE001 coordination through `[discovery-to-execution-pipelines]`
- **Parallel-Tool-Batching**: TB001 ↔ OB001 integration through `[simultaneous-tool-operation-patterns]`
- **Assignment-Hierarchy-Control**: AM001 ↔ AR001 coordination through `[flat-delegation-protocols]`
- **Research-Parallel-Discovery**: RP001 ↔ PE001 integration through `[parallel-analysis-frameworks]`

**Integration Effectiveness Metrics**:
- **Cross-Dimensional Compliance**: Measure coordination effectiveness across all 6 dimensions through `[compliance-scoring-matrices]`
- **Workflow Efficiency**: Track `[inter-dimensional-handoff-performance]` and `[coordination-overhead-optimization]`
- **Resource Utilization**: Monitor `[parallel-resource-effectiveness]` and `[batching-performance-indicators]`
- **Quality Integration**: Assess `[multi-dimensional-quality-achievement]` and `[systematic-excellence-metrics]`

**Tool Parallelization Integration**: The TB001 dimension enhances all other dimensions:
- **Agent-Mandatory (AM001)**: Specialists route tasks through parallel tool coordination
- **Parallel-First (PE001)**: Task decomposition includes tool parallelization assessment
- **Research Protocol (RP001)**: Discovery operations execute through simultaneous tool execution
- **Recursion Prevention (AR001)**: Flat hierarchy specialists implement parallel tool standards
- **Operation Batching (OB001)**: Strategic grouping includes tool operation optimization

**Systematic Interdependency Patterns**:
- **Bidirectional Enhancement**: Each dimension strengthens others through `[mutual-reinforcement-protocols]`
- **Conflict Resolution**: Cross-dimensional conflicts resolved through `[systematic-precedence-hierarchies]`
- **Performance Optimization**: Multi-dimensional performance enhanced through `[integrated-excellence-patterns]`
- **Quality Assurance**: Cross-dimensional quality maintained through `[unified-verification-frameworks]`
</dimensional_integration>
</dimensional_framework>

<integration_framework>
**Multi-Dimensional Excellence**: All six dimensions operate simultaneously through `[integrated-coordination-patterns]` with systematic excellence verification and cross-dimensional performance optimization.
</integration_framework>

<command_guideline_compliance>
**MANDATORY COMMAND GUIDELINE COMPLIANCE**: All modifications to command templates or shared intelligence MUST follow command-specific requirements.

<command_guideline_requirements>
**Template Modification Rules**:
- When modifying `guideline/templates/setup-command.md`, **MUST** follow all requirements in `guideline/guide/setup-requirements.md`
- When modifying `guideline/templates/workflow-command.md`, **MUST** follow all requirements in `guideline/guide/workflow-requirements.md`
- When modifying `guideline/core/shared-intelligence.md`, **MUST** ensure compatibility with ALL command requirements

**Shared Intelligence Modification Rules**:
- **NEVER** add command-specific intelligence to shared-intelligence.md
- **ALWAYS** keep shared-intelligence.md focused on truly universal patterns
- **MUST** validate that shared intelligence changes maintain compatibility with both setup and workflow requirements
- **FORBIDDEN** to include setup-specific or workflow-specific patterns in shared modules

**Command-Specific Intelligence Rules**:
- **SETUP-SPECIFIC** intelligence belongs ONLY in setup-command.md template
- **WORKFLOW-SPECIFIC** intelligence belongs ONLY in workflow-command.md template  
- **SHARED** intelligence belongs ONLY in shared-intelligence.md and must be truly universal
- **CROSS-CONTAMINATION** of command-specific intelligence between commands is FORBIDDEN

**Guideline Compliance Verification**:
- **MANDATORY** verification against setup-requirements.md for setup command modifications
- **MANDATORY** verification against workflow-requirements.md for workflow command modifications
- **MANDATORY** testing that shared intelligence maintains compatibility with both commands
- **MANDATORY** validation that architectural boundaries are preserved (setup creates, workflow executes)

**Enforcement Standards**:
- Any modification violating command-specific requirements is **REJECTED**
- All template changes **MUST** maintain command architectural boundaries
- Shared intelligence changes **MUST** pass compatibility tests with all commands
- Framework compliance (TB001-OB001) **MUST** be maintained in all modifications
</command_guideline_requirements>
</command_guideline_compliance>

<intelligence_architecture>
<new_core_intelligence_system>
**DECLARATIVE INTELLIGENCE ARCHITECTURE**: Guild operates through 3-file core intelligence system with declarative command structure and simplified template embedding via install.js.

<intelligence_module_structure>
1. **setup-intelligence.md**: Project discovery, analysis, and agent generation intelligence patterns
2. **workflow-intelligence.md**: Task execution, specialist coordination, and workflow orchestration patterns  
3. **shared-intelligence.md**: Cross-command dimensional compliance, universal coordination, and framework integration
</intelligence_module_structure>

<template_simplification>
**Command Template Architecture**: Templates function as declarative command prompts with intelligence embedding through install.js:
- **Simple Command Structure**: Commands contain task definitions and user interaction patterns
- **Intelligence Embedding**: Core intelligence modules automatically embedded during generation
- **Declarative Format**: Commands operate as executable prompts, not documentation
- **Framework Integration**: Automatic compliance enforcement through embedded intelligence
</template_simplification>
</new_core_intelligence_system>

<mandatory_requirements>
**CRITICAL REQUIREMENT**: All Guild intelligence must adhere to mandatory abstraction and declarative intelligence principles.

<core_requirements>
1. **NEVER Include Code Samples**: Absolutely forbidden - use `[placeholder]` patterns exclusively
2. **NEVER Reference Specific Technologies**: Use abstract `[framework]`, `[language]`, `[tool]` patterns
3. **ALWAYS Use Templates**: Mandatory abstract placeholder patterns for all implementation guidance
4. **ALWAYS Parallelize Tools**: Simultaneous tool execution unless proven sequential dependencies exist - implement Anthropic's official parallel tool execution standards with mandatory batching of independent operations
5. **NEVER Allow Agent Recursion**: Absolute prohibition - maintain flat hierarchy only
6. **RELY ON Native Intelligence**: Complete trust in autonomous intelligence for implementations
7. **ENABLE Creative Solutions**: Structural guidance without constraining implementation choices
8. **ALWAYS Analyze Instead of Declaring**: Examine actual conditions through intelligence
9. **ALWAYS Follow Recommendations**: Strict adherence to @guideline/guide/recommendations.md standards
10. **MANDATORY Parallel Tool Integration**: All specialists must include official Anthropic parallel tool execution prompts and demonstrate measurable performance improvements through batched operations
11. **ALWAYS Use Declarative Format**: Function as command prompts, not documentation
12. **3-Module Intelligence Architecture**: Reference setup-intelligence.md, workflow-intelligence.md, and shared-intelligence.md exclusively
13. **MANDATORY Ultrathink Configuration**: All agents and commands must include `thinking_mode: ultrathink` for enhanced reasoning capabilities
14. **Install.js Embedding Standards**: Intelligence integration through automated embedding, not manual inclusion
</core_requirements>

<enforcement_protocol>
- **Abstraction Validation**: Mandatory compliance verification for all guidance patterns
- **Technology Independence**: Systematic removal of technology-specific references
- **Template Compliance**: Abstract placeholder pattern validation
- **Parallel Tool Enforcement**: Verification that all specialists implement official Anthropic parallel tool execution prompts
- **Performance Optimization**: Monitoring parallelization effectiveness and measurable improvements
- **Intelligence Trust**: Confirmation that native intelligence drives all decisions
- **Analysis-First**: Verification that decisions based on actual analysis vs declarations
- **3-Module Architecture Compliance**: Verification that only new intelligence modules are referenced
- **Declarative Intelligence Enforcement**: Confirmation that intelligence operates through command prompt execution
- **Embedding Integration Validation**: Verification that install.js properly embeds intelligence modules
- **Ultrathink Configuration Enforcement**: Mandatory verification that all agents include thinking_mode: ultrathink in YAML frontmatter
</enforcement_protocol>
</mandatory_requirements>
</intelligence_architecture>


<template_principles>
**Simplified Declarative Templates**: Provide command prompt structure with intelligence embedding through install.js automated integration.

<declarative_command_structure>
- **Command Prompt Format**: Templates function as executable command prompts, not documentation
- **Intelligence Embedding**: Core intelligence automatically embedded during command generation
- **User Interface Patterns**: Templates define user interaction and task processing flows
- **Automatic Compliance**: Framework compliance enforced through embedded intelligence modules
</declarative_command_structure>

<template_standards>
- **Abstract Placeholders**: Use `[placeholder-patterns]` exclusively with zero code samples or technology references
- **Declarative Execution**: Templates execute as command prompts with embedded intelligence
- **[user-instructions] Processing**: Templates receive `[user-instructions]` via dynamic variable integration
- **Intelligence Integration**: Core modules embedded automatically through install.js generation process
</template_standards>

<configuration_standards>
- **Model**: Always `model: inherit` with mandatory `thinking_mode: ultrathink` for enhanced reasoning capabilities
- **Placeholders**: `[domain]` → `[framework]` → `[specialist-category]` → `@config:[pattern-id]`
- **Philosophy**: Structure enables intelligence. Intelligence optimizes structure.
- **Intelligence Source**: setup-intelligence.md, workflow-intelligence.md, shared-intelligence.md embedded automatically
</configuration_standards>
</template_principles>

<success_criteria>
<verification_requirements>
- **Understanding Confirmed**: User approves `[scope]` and `[approach]`
- **Technical Complete**: All `[verification-streams]` pass
- **User Satisfied**: Explicit approval received
- **Quality Maintained**: Standards met throughout
- **Excellence Achieved**: High compliance across all `[framework-dimensions]` verified (Reference: @config:TB001, @config:AM001, @config:PE001, @config:RP001, @config:AR001, @config:OB001)
- **Tool Parallelization Performance**: Measurable efficiency improvements through simultaneous tool execution demonstrated (Reference: @config:TB001)
- **Anthropic Standards Compliance**: All specialists implement official parallel tool execution prompts verified (Reference: @config:TB001, @config:AM001)
- **Intelligence Architecture Compliance**: Commands properly reference new 3-module intelligence system (setup-intelligence.md, workflow-intelligence.md, shared-intelligence.md)
- **Declarative Command Verification**: Commands function as executable prompts with embedded intelligence modules
- **Embedding Integration Verified**: Install.js properly embeds intelligence modules during command generation
- **Clean Separation Maintained**: Framework principles, intelligence modules, templates, and generation process maintain clear boundaries
</verification_requirements>
</success_criteria>

<command_architecture>
**Declarative Command System**: Guild commands generated through install.js with automatic intelligence embedding and simplified template structure.

<command_generation_process>
- **Template Processing**: Simple command templates processed through install.js
- **Intelligence Embedding**: Core intelligence modules automatically embedded during generation
- **Command Types**: setup.md and workflow.md commands with specialized intelligence integration
- **Framework Integration**: Automatic dimensional compliance through embedded shared-intelligence.md
</command_generation_process>

<command_structure>
- **Command Prompts**: Generated commands function as executable prompts with embedded intelligence
- **[command-arguments] Processing**: Dynamic task adaptation through integrated variable processing
- **Intelligence Integration**: Automatic embedding of relevant intelligence modules per command type
- **Framework Compliance**: Built-in dimensional compliance through shared-intelligence embedding
</command_structure>
</command_architecture>

<module_organization_standards>
**Clear Intelligence Boundaries**: Defined separation of concerns between framework principles and implementation patterns.

<intelligence_module_responsibilities>
- **setup-intelligence.md**: Project discovery, analysis, agent generation, and setup-specific coordination patterns
- **workflow-intelligence.md**: Task execution, specialist orchestration, parallel coordination, and workflow-specific patterns
- **shared-intelligence.md**: Cross-command dimensional compliance, universal coordination protocols, and framework integration
- **framework.md**: Core philosophy, dimensional architecture, compliance requirements, and organizational standards
</intelligence_module_responsibilities>

<embedding_standards>
- **Install.js Integration**: Intelligence modules embedded automatically during command generation
- **Command-Specific Intelligence**: Relevant modules embedded per command type through mapping configuration
- **Framework Compliance**: Shared-intelligence.md embedded in all commands for universal compliance
- **Clean Separation**: Framework principles separate from implementation intelligence patterns
</embedding_standards>
</module_organization_standards>

<declarative_intelligence_requirements>
**Command Prompt Format Standards**: Guild commands function as executable prompts with embedded intelligence modules for autonomous operation.

<command_prompt_structure>
- **Task Definition**: Clear command purpose and execution parameters
- **User Interface**: [user-instructions] processing and interaction patterns  
- **Intelligence Integration**: Automatic embedding of relevant intelligence modules
- **Framework Compliance**: Built-in dimensional compliance through shared-intelligence
</command_prompt_structure>

<intelligence_embedding_patterns>
- **Setup Commands**: setup-intelligence.md + shared-intelligence.md embedding
- **Workflow Commands**: workflow-intelligence.md + shared-intelligence.md embedding
- **Universal Compliance**: shared-intelligence.md embedded in all commands
- **Framework Integration**: Automatic compliance enforcement through embedded modules
</intelligence_embedding_patterns>

<clean_separation_principles>
- **Framework Layer**: Core philosophy, dimensional architecture, compliance requirements (framework.md)
- **Intelligence Layer**: Implementation patterns, coordination protocols, execution intelligence (3 intelligence modules)
- **Template Layer**: Command structure, user interaction, task processing (simple templates)
- **Generation Layer**: Automatic intelligence embedding, command compilation (install.js)
</clean_separation_principles>
</declarative_intelligence_requirements>

<best_practices>
**Systematic Excellence**: Use `[xml-structure]`, `[chain-of-thought]`, and `[verification-patterns]` with explicit `[user-confirmation]`. Enforce excellence through systematic `[processes]` and focused `[specialists]` with proactive delegation (Reference: @config:AM001, @config:VF001).

**Declarative Intelligence Implementation**: 
- Reference setup-intelligence.md, workflow-intelligence.md, and shared-intelligence.md for implementation patterns
- Maintain clean separation between framework principles and intelligence implementation
- Trust install.js embedding process for automatic intelligence integration
- Ensure templates remain simple command prompts with embedded intelligence

**Philosophy**: Structure enables intelligence. Intelligence optimizes structure.
</best_practices>

