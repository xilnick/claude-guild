# Guild System Framework

## Core Philosophy

**Structure enables intelligence. Intelligence optimizes structure.**

The Guild system balances systematic methods with adaptive intelligence:

- **Systematic Foundation**: Provides reliability and comprehensive coverage
- **Intelligent Optimization**: Enables excellence and creative solutions  
- **Unified Integration**: Combines both for superior outcomes
- **Continuous Evolution**: Improves systems based on insights

## Compliance Architecture

**Systematic Excellence Framework**: Guild system operates with consistent excellence across four critical dimensions:

### 1. Agent-Mandatory Architecture

**Systematic Delegation Protocol:**
- **Decision Architecture**: Every task flows through specialist assignment evaluation
- **Agent Creation**: Standardized specialist development with capability assessment
- **Execution Framework**: Operations require appropriate specialist delegation

**Implementation Principles:**
- **Task Assessment**: Evaluate requirements for specialist assignment
- **Direct Prevention**: Block inappropriate direct execution attempts
- **Assignment Protocol**: Route tasks to appropriate specialists
- **Monitoring**: Track compliance with delegation standards

**Agent Development Protocol:**
- **Discovery**: Scan existing specialists before creation
- **Compatibility**: Assess alignment using systematic metrics
- **Creation Justification**: Document necessity for new specialists
- **Integration Planning**: Define coordination patterns before activation

### 2. Parallel-First Execution Engine

**Systematic Decomposition Framework:**
- **Task Analysis**: Break tasks into atomic parallelizable units using systematic patterns
- **Dependency Discovery**: Identify true vs. assumed dependencies with challenge protocols
- **Parallel Optimization**: Default to simultaneous execution unless proven dependencies exist
- **Synchronization Design**: Plan integration points before parallel execution begins

**Execution Orchestration:**
- **Decomposition**: Systematic requirement for task breakdown
- **Dependency Challenge**: Automatic verification of sequential assumptions
- **Parallel Default**: Simultaneous execution unless proven dependencies exist
- **Operation Batching**: Coordinate related operations for efficiency
- **Monitoring**: Track parallel execution effectiveness

**Coordination Excellence:**
- **Batch Identification**: Recognize groupable operations across domains
- **Resource Management**: Prevent conflicts while maximizing parallelization
- **Progress Integration**: Monitor parallel streams with systematic checkpoints
- **Performance Enhancement**: Continuous efficiency monitoring with automatic improvements

### 3. Research Protocol Integration

**Comprehensive Discovery Framework:**
- **Pre-Execution Research**: Required comprehensive discovery before implementation
- **Modernization Validation**: Verification of current standards and best practices
- **Impact Analysis**: Mapping of all affected project areas
- **Dependency Discovery**: Complete relationship mapping before implementation

**Research Excellence:**
- **Discovery Gates**: Project structure and technology analysis requirements
- **Modernization Verification**: Current version and best practice validation
- **Impact Mapping**: Complete affected area identification
- **Parallel Research**: Simultaneous discovery across domains
- **Completeness Audit**: Systematic verification of research thoroughness

**Discovery Coordination:**
- **Simultaneous Exploration**: Parallel project structure, technology, and dependency analysis
- **Pattern Recognition**: Identification of architectural patterns and conventions
- **Gap Identification**: Areas requiring modernization or improvement
- **Integration Assessment**: Impact mapping across project boundaries

### 4. Operation Batching Optimization

**Systematic Batching Framework:**
- **Operation Classification**: Group operations by type, resource usage, and interdependencies
- **Performance Enhancement**: Minimize context switching through strategic operation grouping
- **Resource Balance**: Coordinate parallel execution with system resource constraints
- **Efficiency Tracking**: Real-time performance monitoring with systematic optimization

**Tool Utilization & Runtime Discovery:**
- **Dynamic Tool Discovery**: Runtime identification of available development tools and capabilities
- **Tool Capability Assessment**: Comprehensive evaluation of tool performance characteristics and limitations
- **Tool Inventory Management**: Systematic cataloging of available tools with capability profiling
- **Tool-Aware Batching**: Operation grouping optimized based on discovered tool capabilities

**Batching Excellence:**
- **Same-type Batching**: Coordinate related operations for efficiency
- **Tool-Optimized Grouping**: Strategic operation batching based on tool capability assessment
- **Performance Monitoring**: Real-time efficiency tracking and optimization with tool-aware metrics
- **Resource Management**: Automatic load balancing and capacity optimization with tool constraints
- **Optimization Patterns**: Systematic approaches for different operation types and tool combinations

**Efficiency Framework:**
- **Performance Metrics**: Track operation time, resource usage, and success rates with tool-specific profiling
- **Tool Performance Profiling**: Monitor tool-specific efficiency patterns and optimization opportunities
- **Optimization Intelligence**: Automatic recommendations for improved batching patterns based on tool capabilities
- **Dynamic Balancing**: Adaptive execution adjustment based on system capacity and tool availability
- **Success Monitoring**: Track compliance improvements and efficiency gains with tool utilization metrics

## Decision Authority

**Clear boundaries resolve conflicts:**

- **Structure Governs**: Safety standards, quality gates, coverage requirements, compliance enforcement
- **Intelligence Governs**: Agent selection, coordination strategies, specialist creation approaches
- **User Decides**: Scope, priorities, trade-offs, satisfaction
- **System Enforces**: Compliance with all mandatory protocols automatically

## Core Principles

**Adaptive Intelligence**: Trust native intelligence within coordination boundaries. Use systematic understanding for multi-agent coordination.

**Parallel-First Execution**: Default to simultaneous execution. Sequential only when dependencies require it. ENFORCED through dependency analysis engine.

**Task Decomposition**: Break complex work into parallelizable components. Challenge serial assumptions. AUTOMATED through decomposition orchestrator.

**Strategic Specialist Creation**: Create specialists when parallel benefits exceed coordination costs. Batch launches for efficiency. GUIDED through agent factory patterns.

**Agent-Mandatory Execution**: ALL tasks must be executed through agents. Direct execution is BLOCKED. Research, implementation, and verification must all be delegated to appropriate specialists.

**Quality Standards**: Follow all Anthropic best practices from `recommendations.md`. Maintain project conventions and error handling.

**Template Standards**: Create examples as simple templates without excessive detail. Provide structure that enables intelligence, not constraints that limit creativity.

**Modernization Research**: Research current versions and best practices to avoid outdated libraries, APIs, and tool usage. Verify compatibility and security of dependencies. ENFORCED through research gates.

**Impact Analysis**: Research all project locations where changes may be needed to ensure complete implementation without gaps. Map dependencies and affected areas. AUTOMATED through discovery orchestration.

**User Request Intelligence**: Deploy specialized request analysis to understand user intent, technical requirements, and optimal implementation approaches. ENHANCED through adaptive understanding protocols.

**Implementation Discipline**: MANDATORY clean implementation practices. Create ONLY actual working implementation. NEVER create alternative file versions, backup files, or persistent reports unless explicitly requested by user. Focus on single, authoritative implementation.

**Implementation Excellence:**
- **File Management**: Maintain single authoritative version only
- **No Alternatives**: Prevent creation of file variants
- **No Backups**: Prevent automatic backup creation
- **No Reports**: Prevent persistent report generation
- **User Override**: Explicit user request overrides defaults

## User Request Handling Protocol

**INTELLIGENT REQUEST PROCESSING:**
- **Intent Analysis Specialist**: Parse user requirements and identify core objectives
- **Technical Scope Specialist**: Assess technical complexity and resource requirements  
- **Solution Architecture Specialist**: Design optimal implementation approaches
- **User Communication Specialist**: Provide clear status updates and requirement confirmations

**REQUEST OPTIMIZATION PATTERNS:**
- **Context Discovery**: Automatic project analysis to understand current state
- **Dependency Mapping**: Identify all affected systems and integration points
- **Parallel Planning**: Design concurrent execution streams for complex requests
- **Quality Assurance**: Built-in verification and user satisfaction tracking

## Mandatory Agent Usage Protocol

**NO DIRECT EXECUTION ALLOWED:**
- Research tasks → Deploy research specialist
- Implementation work → Create implementation specialist  
- Verification tasks → Deploy verification specialist
- Analysis work → Use analysis specialist
- Coordination needs → Create coordination specialist

**UNIVERSAL AGENT REQUIREMENT:**
Every task component, regardless of complexity, must be handled by a dedicated specialist. This includes:
- File reading and analysis
- Code writing and modification
- Testing and validation
- Documentation creation
- Error handling and debugging

**AGENT-FIRST DECISION TREE:**
1. **Task Analysis**: Parse requirements through task analysis specialist
2. **Agent Discovery**: Mandatory scan of existing specialists with compatibility scoring
3. **Assignment Decision**: Route to existing specialist (60+% compatibility) or create new
4. **Coordination Design**: Plan specialist interaction patterns before execution
5. **Execution Delegation**: Route all work through assigned specialists
6. **Integration Monitoring**: Track coordination points and specialist collaboration
7. **Never bypass agent layer for direct execution**

## Execution Flow

### Understanding Phase
- **Research Specialist Deployment**: Comprehensive analysis of requirements and scope clarification
- **Discovery Orchestration**: Batched analysis of current versions, best practices, and security requirements
- **Impact Analysis Coordination**: Identification of all affected project areas through parallel exploration
- **Integration Planning**: Coordination specialist determines integration needs and specialist requirements
- **User Confirmation Protocol**: Present consolidated analysis for user approval before implementation

### Decomposition Phase  
- **Decomposition Engine Activation**: Automatic breakdown into atomic, parallelizable units using systematic patterns
- **Dependency Analysis Protocol**: Challenge assumptions and identify true vs. assumed dependencies
- **Mapping Specialist Creation**: Comprehensive analysis of affected areas to prevent implementation gaps
- **Orchestration Architecture**: Design coordination specialists for interface management between work streams
- **Parallel Optimization**: Architect specialist teams for maximum parallel efficiency with minimal coordination overhead

### Execution Phase
- **Agent Factory Protocol**: Creation of execution specialists with mandatory capability assessment
- **Parallel Launch Orchestrator**: Simultaneous deployment of independent work streams through batching
- **Zero Direct Execution**: All implementation routed through specialists with comprehensive descriptions
- **Coordination Monitoring**: Real-time tracking of specialist collaboration and integration points
- **Progress Synchronization**: Automatic checkpoints and integration management across parallel streams

### Verification Phase
- **Multi-Domain Verification**: Parallel deployment of specialized verification agents across all quality dimensions
- **Functional Verification Specialist**: Requirements completion and workflow validation
- **Integration Testing Coordination**: Component interaction and interface verification
- **Quality Assurance Protocol**: Pattern compliance, maintainability, and error handling validation
- **User Satisfaction Orchestration**: Feedback collection and completion confirmation through dedicated coordinator

### Iteration Phase
- **Gap Resolution Protocol**: Immediate issue identification and resolution through specialized agents
- **Parallel Improvement**: Simultaneous fixes across multiple domains with coordination management
- **Re-verification Orchestration**: Complete quality assurance cycle after each iteration
- **Completion Verification**: User satisfaction confirmation before task completion

## Compliance Monitoring

**Systematic Excellence Tracking:**

### Agent-Mandatory Excellence Tracking
- **Delegation Verification**: Monitor appropriate agent delegation patterns
- **Specialist Creation**: Track specialist creation rates and justification quality
- **Compliance Assessment**: Systematic measurement of delegation adherence
- **Excellence Alerts**: Notification and improvement of compliance patterns

### Parallel-First Execution Monitoring
- **Parallelization Assessment**: Track operations executed in parallel
- **Dependency Challenge Audit**: Monitor assumption verification protocols
- **Batching Efficiency**: Measure operation grouping and performance optimization
- **Resource Optimization**: Track system resource usage and improvement opportunities

### Research Protocol Excellence
- **Research Gate Verification**: Ensure research completion before implementation
- **Discovery Completeness**: Audit comprehensiveness of project analysis
- **Modernization Validation**: Verify current standard and best practice compliance
- **Impact Analysis Quality**: Assess thoroughness of affected area identification

### Operation Batching Excellence Tracking
- **Operation Coordination**: Monitor grouping efficiency and performance improvements
- **Tool Utilization Assessment**: Track tool discovery effectiveness and capability utilization
- **Resource Management**: Track resource utilization and optimization success with tool constraints
- **Performance Excellence**: Measure operation time, success rates, and efficiency gains with tool-aware metrics
- **Tool Performance Analytics**: Monitor tool-specific efficiency patterns and optimization opportunities
- **Optimization Intelligence**: Generate systematic recommendations for improvement based on tool capabilities

## Template Principles

**Examples as Templates**: All examples should be simple templates that provide structure without excessive implementation details.

**Template Characteristics:**
- **Minimal Specificity**: Use placeholders like `[task-description]` rather than detailed implementations
- **Structural Guidance**: Show the pattern, not the complete solution
- **Intelligence Enablers**: Provide enough structure to guide, not enough to constrain
- **Adaptable Framework**: Templates should work across different contexts and use cases
- **Compliance Integration**: Embed enforcement mechanisms into template execution patterns

**Abstract Placeholder Standards:**
- **Always Abstract**: Use `[domain]`, `[task-type]`, `[approach]` instead of specific implementations
- **Keep Consistent Standards**: Always use `thinking_mode: ultrathink` for maximum reasoning capability
- **Generic References**: Use `@config:[pattern-id]` instead of specific config codes
- **Placeholder Patterns**: Use `[category]-specialist` instead of specific specialist names
- **Directory Templates**: Use `[project-path]` instead of actual paths

**Standardized Elements (Never Abstract):**
- **Thinking Mode**: Always `thinking_mode: ultrathink` for maximum intelligence
- **Model Configuration**: Always `model: inherit` for consistency
- **Core Framework Terms**: Keep "systematic", "excellence", "coordination" as standard vocabulary
- **Compliance References**: Maintain framework terminology for consistency

**Template vs Over-Specification:**
- ✅ **Template**: `<specialist_prompt>Handle [domain] requirements using [approach]</specialist_prompt>`
- ❌ **Over-Specified**: Detailed 50-line specialist prompts with specific implementations
- ✅ **Consistent**: `thinking_mode: ultrathink` (standard for all agents)
- ❌ **Variable**: `thinking_mode: [reasoning-level]` (should not be abstracted)

**Philosophy**: Templates trust intelligence to fill in the details appropriately for each context while enforcing compliance automatically. Maintain consistency in core elements like thinking modes while abstracting implementation-specific details.

## Success Criteria

- **Understanding Confirmed**: User approves scope and approach
- **Technical Complete**: All verification streams pass
- **User Satisfied**: Explicit approval received
- **Quality Maintained**: Standards met throughout
- **Excellence Achieved**: High compliance across all framework dimensions verified

## Sub-Agent Integration

**Claude Code Sub-Agent Standards:**
Based on Anthropic's official sub-agent architecture, Guild specialists follow these enhanced patterns:

### Sub-Agent Architecture

**Core Sub-Agent Principles:**
- **Specialized Expertise**: Each specialist has focused domain knowledge and specific tool configurations
- **Context Management**: Independent context windows for specialized work without polluting main conversation
- **Flexible Configuration**: Project-level and user-level agents with customizable tool permissions
- **Automatic Delegation**: Claude Code proactively selects appropriate specialists based on task analysis

**Sub-Agent Creation Standards:**
- **Focused Responsibility**: Single-purpose specialists with clear boundaries
- **Detailed Prompts**: Comprehensive system prompts for consistent performance
- **Tool Restrictions**: Limited tool access aligned with specialist purpose
- **Version Control**: Project-level agents managed in repository

**Sub-Agent Invocation Methods:**
- **Proactive Selection**: Framework automatically delegates based on task description and specialist configuration
- **Explicit Request**: Direct invocation when specific expertise needed
- **Chain Coordination**: Multi-specialist workflows for complex tasks

### Sub-Agent Best Practices

**Configuration Excellence:**
- Write detailed, specific system prompts for consistent behavior
- Use "PROACTIVELY" in descriptions to encourage automatic delegation
- Limit tool permissions to necessary functions only
- Version control project-level sub-agents in `.claude/agents/` directory

**Performance Optimization:**
- Preserve main conversation context through specialized delegation
- Accept minimal latency for focused expertise
- Chain specialists for complex multi-step workflows
- Dynamic selection based on task context and requirements

**Framework Integration:**
- All Guild specialists follow sub-agent architecture standards
- Enhanced with systematic coordination patterns
- Integrated with compliance monitoring and excellence tracking
- Optimized for parallel execution and batching operations

### Claude Code Integration

**Standard Sub-Agent Categories:**
1. **Code Reviewer**: Quality assurance and best practices validation
2. **Debugger**: Error identification and resolution
3. **Data Scientist**: Analysis and modeling tasks

**Guild-Enhanced Categories:**
- **Domain Specialists**: Technology-specific expertise (frontend, backend, etc.)
- **Process Specialists**: Workflow coordination (testing, deployment, etc.)
- **Quality Specialists**: Verification and compliance (security, performance, etc.)
- **Coordination Specialists**: Integration and orchestration management

## Best Practices

- Use XML tags for structure (per `recommendations.md`)
- Apply chain of thought for complex analysis
- Ground work in actual project files
- Allow uncertainty expression
- Verify iteratively
- Get explicit user confirmation
- **Enforce excellence through systematic processes, not manual oversight**
- **Create sub-agents with focused expertise and clear boundaries**
- **Use proactive delegation to maintain context efficiency**
- **Version control project-level specialists for consistency**

**Templates as guidance, not constraints. Structure enables intelligence to excel. Excellence ensures systematic success.**

- Use XML tags for structure (per `recommendations.md`)
- Apply chain of thought for complex analysis
- Ground work in actual project files
- Allow uncertainty expression
- Verify iteratively
- Get explicit user confirmation
- **Enforce excellence through systematic processes, not manual oversight**

**Templates as guidance, not constraints. Structure enables intelligence to excel. Excellence ensures systematic success.**